{
  "title": "Account",
  "description": "User account schema for testing data operations and authentication scenarios",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique account identifier",
      "example": "550e8400-e29b-41d4-a716-446655440000"
    },
    "name": {
      "type": "string",
      "minLength": 2,
      "maxLength": 100,
      "description": "Account holder full name",
      "example": "John Smith"
    },
    "email": {
      "type": "string",
      "format": "email",
      "maxLength": 255,
      "description": "Primary email address",
      "example": "john.smith@example.com"
    },
    "username": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9_-]{3,50}$",
      "description": "Unique username for login",
      "example": "jsmith"
    },
    "account_type": {
      "type": "string",
      "enum": [
        "personal",
        "business",
        "trial",
        "premium"
      ],
      "default": "personal",
      "description": "Type of account"
    },
    "balance": {
      "type": "number",
      "minimum": 0,
      "maximum": 1000000,
      "default": 0,
      "description": "Account balance in USD",
      "example": 150.75
    },
    "is_active": {
      "type": "boolean",
      "default": true,
      "description": "Whether the account is currently active"
    },
    "is_verified": {
      "type": "boolean",
      "default": false,
      "description": "Whether the account email is verified"
    },
    "credit_limit": {
      "type": "number",
      "minimum": 0,
      "maximum": 10000,
      "description": "Credit limit for business accounts (null for personal/trial)",
      "example": 1000
    },
    "last_login": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp of last login (null if never logged in)",
      "example": "2024-01-15T10:30:00Z"
    },
    "preferences": {
      "type": "object",
      "properties": {
        "notifications": {
          "type": "boolean",
          "default": true
        },
        "theme": {
          "type": "string",
          "enum": [
            "light",
            "dark"
          ],
          "default": "light"
        },
        "language": {
          "type": "string",
          "enum": [
            "en",
            "es"
          ],
          "default": "en"
        }
      },
      "description": "User preferences and settings"
    },
    "metadata": {
      "type": "object",
      "description": "Additional flexible metadata",
      "additionalProperties": true
    },
    "phone": {
      "type": "string",
      "pattern": "^\\+?[1-9]\\d{1,14}$|^\\+?1 \\([0-9]{3}\\) [0-9]{3}-[0-9]{4}$",
      "description": "Phone number (optional)",
      "example": "+1 (555) 123-4567"
    }
  },
  "required": [
    "id",
    "name",
    "email",
    "username",
    "account_type"
  ],
  "additionalProperties": false
}