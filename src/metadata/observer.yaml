title: Observer
description: Code observer that attaches to schema lifecycle events
type: object
properties:
  name:
    type: string
    minLength: 1
    maxLength: 100
    description: Observer name (should match TypeScript file name)
  description:
    type: string
    maxLength: 500
    description: Description of what this observer does
  schema_name:
    type: string
    minLength: 1
    maxLength: 100
    description: Target schema this observer attaches to
  handler_file:
    type: string
    pattern: "^[a-z0-9-]+$"
    maxLength: 100
    description: TypeScript filename (without .ts extension) in src/observers/
  on_create:
    type: boolean
    default: false
    description: Execute on record creation
  on_update:
    type: boolean
    default: false
    description: Execute on record updates
  on_delete:
    type: boolean
    default: false
    description: Execute on record deletion
  ring:
    type: string
    enum: ["starting", "prepared", "validate", "database", "executed", "finished"]
    default: "prepared"
    description: Execution phase in operation lifecycle
  priority:
    type: integer
    minimum: 1
    maximum: 100
    default: 50
    description: Execution order within ring (lower numbers run first)
  is_active:
    type: boolean
    default: true
    description: Whether this observer is currently active
required:
  - name
  - schema_name
  - handler_file